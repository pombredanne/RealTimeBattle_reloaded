This is the specification for all Gadgets of RealTimeBattle.

; TODO: More comments!
; TODO: Collider-specification.

Datatypes
*********

REAL     decimal numbers
INT      integer numbers, could be HEX if a # before number
BOOL     true or false
STRING   ""-enclosed characters
*GADGET  The name of a previously defined Gadget of specified type, with a $ in front


FUNCSPEC true, false or default
;Is this necessary? FUNCSPEC(false) will never be used, since a Function
;not mentioned should not be activate. Or did I misunderstand something?
;Answer: I thought that some (most?) functions should be enabled by default.
;Especially some functions as Die that probably all gadgets need to have set
;to true. Other gadgets seems to be meaningless without their function
;(e.g. Engine is pretty useless without the Accelerate function for example) 

VARTYPE  bool, int or double
*LIST    a list of specified type, whitespace-separated (e.g no commas)


GadgetDefinitions
*****************

A gadgetname can not hold whitespaces, ; or " , but all other characters.

A Gadget is defined like this:

Define Gadget name

   ; ...

EndDefine

A ; is the beginning of a comment
A string is enclosed with ""

In all definitions, if a value is shown inside a paranthesis,
it is the defualt value of the gadget.

****** Gadget ******

All Gadgets contain this:

Define Gadget name

   ;Functions:
   Function Die             FUNCSPEC (true)
   

   ;Other:
   InfoString               STRING ("No info given")

EndDefine


****** Variable ******

Define Variable name

   ;Functions:
   Function SetValue        FUNCSPEC (default)
   Function GetValue        FUNCSPEC (true)

   ;Variables:
   Information              BOOL (false)  ;The value will be sent to the robots.
   Parameter                BOOL (false)  ;The value can be set by the robots.
   Option                   BOOL (false)  ;The value can be set by the user as an option.

   DefaultValue             REAL (0.0)
   MinValue                 REAL (-infinity)
   MaxValue                 REAL (infinity)

   Random                   BOOL

   Inaccuracy               REAL  ;Standard deviation of error in measurement
   Digits                   INT

EndDefine

****** Script ******

Define Script name

   Function Eval            FUNCSPEC (default)


   ; A script consists of a number of lines with the following syntax:

   Line          SCRIPTCOMMAND    ARGUMENT

   Label         STRING


  ;SCRIPTCOMMAND  ARGUMENT
  ;------------------------
  ;PUSH           VARTYPE
  ;POP
  ;COPY
  ;STORE          VARIABLE
  ;ACTION         STRING
  ;ADD            VARTYPE
  ;SUB            VARTYPE
  ;MULT           VARTYPE
  ;DIV            VARTYPE
  ;INV
  ;NEG
  ;SIN
  ;COS
  ;TAN
  ;ASIN
  ;ACOS
  ;ATAN
  ;LT             VARTYPE
  ;LE             VARTYPE
  ;GT             VARTYPE
  ;GE             VARTYPE
  ;EQ             VARTYPE
  ;NE             VARTYPE
  ;THEN
  ;ELSE
  ;GOTO           STRING
  ;WAIT           REAL

EndDefine

****** Wall ******

Define Wall name

   BounceCoefficient        REAL
   Hardness                 REAL
   Visibility               REAL
   Temperature              REAL
   Gate                     BOOL  ;Possibility of go through this wall
   TextOnWall               STRING

   ActionAtCollision        STRING ;Will be executed as a robot message
   ActionWhenHit            STRING ;Will be executed as a robot message

EndDefine

****** Geometry ******

Define Geometry name

   ; TODO: Add specification!

EndDefine

****** Environment ******

Define Environment name

   Friction                 REAL
   AirResistance            REAL
   Gravity                  REAL
   Visibility               REAL
   Temperature              REAL
   MatchTimeLimit           BOOL (true) ;Timeout is for match (true) or a round (false)
   TimeLimit                BOOL (true) ;Should there be a limit of round/match-length
   FixedLength              BOOL (false) ;Round/Match is always timeout long.
   Timeout                  REAL ;Length of a round/match

   GeometryList             GEOMETRYGADGETLIST ;If omitted, uses all defined GeometryGadgets

EndDefine

****** Scoring ******

Define Scoring name

   ; TODO: Improve!
   ; The scoring should use scripts to calculate scores from various input
   ; data, but we must specify how...


EndDefine

****** Explosion ******

Define Explosion name

   Function Explode         FUNCSPEC (defualt)

   Size                     REAL
   GrowTime                 REAL
   AtMaxTime                REAL
   ShrinkTime               REAL
   Temperature              REAL
   Damage                   REAL
   AirResistance            REAL
   Visibility               REAL ;How far you can see )
   SoundLevel               REAL ;Sound during expansion >
   Colour                   INT  ;Max: #ffffff Min: #000000

EndDefine

****** Weapon ******

Define Weapon name

   ;Functions:
   Function Shoot           FUNCSPEC (default)
   Function Mount           FUNCSPEC (true)
   Function Unmount         FUNCSPEC (true)
   Function Drop            FUNCSPEC (true)
   Function Sell            FUNCSPEC (true)
   Function Rotate          FUNCSPEC (true)
   Function RotateTo        FUNCSPEC (true)
   Function RotateAmount    FUNCSPEC (true)

   ;Gadgets:
   Shot                     SHOTGADGET

   ;Variables:
   AutoFire                 BOOL
   MaxRotateSpeed           REAL
   SoundLevel               REAL
   MountTime                REAL
   UnmountTime              REAL
   MountCost                REAL
   UnmountCost              REAL
   UseCostPerTime           REAL
   AmmoLimit                BOOL
   StartAmmo                INT
   ReloadTime               REAL
   TemperaturePerDamage     REAL
   MaxTemperature           REAL
   CoolDownPerTime          REAL
   Attachable               BOOL
   Colour                   INT  ;Max: #ffffff Min: #000000
   Price                    REAL
   Mass                     REAL

EndDefine

****** Shot ******

Define Shot name

   Damage                   REAL
   Speed                    REAL
   Size                     REAL
   CostPerDamage            REAL
   CostPerSpeed             REAL
   MaxDamage                REAL
   MinDamage                REAL
   WeaponHeatPerDamage      REAL
   Temperature              REAL
   MaxTime                  REAL
   ExplosionWhenColliding   EXPLOSIONGADGET
   ExplosionWhenHit         EXPLOSIONGADGET
   ExplosionAtMaxTime       EXPLOSIONGADGET
   TargetSeeking            BOOL
   MaxAngularVelocity       REAL
   Colour                   INT  ;Max: #ffffff Min: #000000
   Price                    REAL
   Mass                     REAL

EndDefine


****** Defense ******

Define Defense name

   CollisionProtection      REAL
   HeatProtection           REAL
   ShotProtection           REAL
   FrontAngle               REAL
   FuelUsagePerTime         REAL ;Amount of fuel is needed per time
   Efficiency               REAL
   MountTime                REAL
   UnmountTime              REAL
   MountCost                REAL
   UnmountCost              REAL
   UseCostPerTime           REAL
   Attachable               BOOL
   Colour                   INT  ;Max: #ffffff Min: #000000
   Price                    REAL
   Mass                     REAL

EndDefine

****** Engine ******

Define Engine name

   Function Accelerate      FUNCSPEC (default)

   Power                    REAL
   MaxPower                 REAL
   MinPower                 REAL ; It may consume fuel at standby
   Efficiency               REAL
   SoundLevelPerPower       REAL
   UseCostPerTime           REAL
   UseCostPerPower          REAL
   MaxTemperature           REAL
   Colour                   INT  ;Max: #ffffff Min: #000000
   Price                    REAL
   Mass                     REAL

EndDefine

****** Sensor ******

Define Sensor name

   ;Functions:
   Function Rotate          FUNCSPEC (default)
   Function RotateTo        FUNCSPEC (true)
   Function RotateAmount    FUNCSPEC (true)

   ;Variables:
   Microphone               BOOL    
   Sonar                    BOOL
   InfraredLight            BOOL ;Detect heat
   Laser                    BOOL
   Radiowave                BOOL
   Vision                   BOOL
   Sector                   BOOL
   SectorWidth              REAL
   Line                     BOOL
   LineWidth                REAL
   OmniDirectional          BOOL
   MaxObjectsSeen           INT
   AreaLimit                REAL
   RangeLimit               REAL
   FuelUsagePerTime         REAL ;Amount of fuel is needed per time
   Efficiency               REAL
   MountTime                REAL
   UnmountTime              REAL
   MountCost                REAL
   UseCostPerTime           REAL
   UpdateFrequency          REAL
   Attachable               BOOL
   Colour                   INT  ;Max: #ffffff Min: #000000
   Price                    REAL
   Mass                     REAL

EndDefine

****** Communication ******

Define Communication name

   Bandwidth                INT
   Range                    REAL
   Directional              BOOL
   LeftAngle                REAL
   RightAngle               REAL
   AreaLimit                REAL

EndDefine

****** Ball ******

Define Ball name

   BounceCoefficient        REAL
   Hardness                 REAL
   Friction                 REAL
   Temperature              REAL
   Colour                   INT  ;Max: #ffffff Min: #000000
   Mass                     REAL

EndDefine

****** Equipment ******

Define Equipment name

   ; TODO: How and what to  supply with equipment? (e.g. XPos, YPos,
   ;       Direction, Speed, MovingDirection etc.)

   UpdateFrequency          REAL
   Colour                   INT  ;Max: #ffffff Min: #000000
   Price                    REAL
   Mass                     REAL

EndDefine

****** RobotBody ******

Define RobotBody name

   ;Functions:
   Function Rotate          FUNCSPEC (default)
   Function RotateTo        FUNCSPEC (true)
   Function RotateAmount    FUNCSPEC (true)
   Function Brake           FUNCSPEC (true)

   ;Variables:
   Fuel                     REAL
   Temperature              REAL
   Health                   REAL

   FuelEnergyDensity        REAL  ; Energy per kg

   ;Constants:  
   Size                     REAL

   Friction                 REAL
   BounceCoefficient        REAL
   Hardness                 REAL
   Protection               REAL
   DamagePerHeat            REAL
   DamagePerTime            REAL

   BrakeMaxPower            REAL  ; at low temp.
   BrakeDegenerationHeat    REAL  ; above this temp. brakes are losing power
   BrakeMaxHeat             REAL  ; above this temp. brakes are not working at all


   MaxWeaponMass            REAL
   MaxNumberOfWeapons       INT
   MaxSensorMass            REAL
   MaxNumberOfSensors       INT
   MaxDefenseMass           REAL
   MaxNumberOfDefenses      INT

   MaxTotalMass             REAL  ; Mass of RobotBody + all equipment

   HeatCapacity             REAL  ; Determines how much heat energy needed
                                  ; to raise temp one degree
   HeatConductivity         REAL  ; Determines how much the environment
                                    temp affects the robot temp
   CoolDownPower            REAL
   FuelPerCoolingPower      REAL  ; 

   MaxFuel                  REAL ;Maximum possible amount of fuel

   Colour                   INT  ;Max: #ffffff Min: #000000
   Price                    REAL
   Mass                     REAL

EndDefine
